regtest
=======


This is a python extension and scripts for performing register tests under
Linux.

INSTALLATION
============

To install the hwtest extension make sure the python development headers are
installed for you system.  On yum based systems:

[ ~]# yum install python-devel

and then in this directory as root:
[ ~]# python setup.py install


You will also need to build and install the driver separately right now:
[ ~]# make -C /lib/modules/`uname -r`/build M=`pwd` modules
[ ~]# cp khwtest.ko /lib/modules/`uname -r`/misc
[ ~]# depmod -a

USAGE
=====

You must be root in order to use the hwtest module since it can access
physical memory and IO ports.  

You can always get the built in help information with:
>>> import hwtest
>>> help(hwtest)

Example of reading and writing to memory:

[ ~]# python

>>> from hwtest import *
>>> readlw(0xfc000000)
4294967295L
>>> hex(_)
'0xFFFFFFFFL'
>>> hex(readlw(0xfc000000))
'0xFFFFFFFFL'
>>> writelw(0xfc000000, 0x80000000)
>>>


The hwtest module also provides a way to allocate host memory for use in
testing out DMA operations:
>>> phys_address = hwtest.alloc_dma_page()

The phys_address value can be written into device registers, and readlw /
writelw can be used to access those pages just like any other memory.

Another nice thing about using the python interpreter is that you can import
source files that define variables / functions and then use them within an
interactive session.  This is done with the '-i' command line option to the
python interpreter.


